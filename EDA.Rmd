---
title: "EDA"
author: "Mark Liu & Friends"
date: "2026-02-12"
output: github_document
---

### Loading in the dataset and some libraries
```{r setup, include=FALSE}
library(dplyr)
library(ggplot2)
library(lme4)
library(nlme)
library(MASS)
library(here)

dataset_org <- read.csv(here("original.csv")) #original dataset
dataset_mod <- read.csv(here("wider.csv")) #dataset with empirical characteristic values
```

## Including Plots

Do the trend plot, as per Lang's instruction

```{r time_trend}

#Plot is too crowded, filter out some observations for good measures

dataset_plottable <- filter(dataset_org, ID < 100 | ID > 1900)

#Comparing effect of copper

ggplot(dataset_plottable, aes(x = Time, y = OD, group = ID, color = Cu)) +
geom_line() +
geom_point() +
labs(title = "OD trends", x = "Time", y = "Concentration")


#Comparing effect of mine

dataset_plottable <- filter(dataset_org, ID < 1000, ID > 750)
ggplot(dataset_plottable, aes(x = Time, y = OD, group = ID, color = Mine)) +
geom_line() +
geom_point() +
labs(title = "OD trends, Colored by Mine", x = "Time", y = "Concentration")

#Comparing effect of storage

dataset_plottable <- filter(dataset_org, ID > 300, ID < 650)
ggplot(dataset_plottable, aes(x = Time, y = OD, group = ID, color = Storage)) +
geom_line() +
geom_point() +
labs(title = "OD trends, Colored by Storage Method", x = "Time", y = "Concentration")


#Comparing effect of media

dataset_plottable <- filter(dataset_org, ID %in% seq(1, 2000, 10))
ggplot(dataset_plottable, aes(x = Time, y = OD, group = ID, color = Media)) +
geom_line() +
geom_point() +
labs(title = "OD trends, Colored by Media", x = "Time", y = "Concentration")





```

## Including more Plots

Do some cross section plots, as per Lang's instruction

```{r cross_sectional, echo=FALSE}
#IDK, let's look at 0, 24, and 96?
#Adding outliers make it difficult to compare

dataset_plottable <- filter(dataset_org, Time == 0)
boxplot(dataset_plottable$OD ~ dataset_plottable$Cu, outline=FALSE, xlab = "Cu concentration", ylab = "OD", main = "Time 0 OD")

dataset_plottable <- filter(dataset_org, Time == 24)
boxplot(dataset_plottable$OD ~ dataset_plottable$Cu, outline=FALSE, xlab = "Cu concentration", ylab = "OD", main = "Time 24 OD")

dataset_plottable <- filter(dataset_org, Time == 96)
boxplot(dataset_plottable$OD ~ dataset_plottable$Cu, outline=FALSE, xlab = "Cu concentration", ylab = "OD", main = "Time 96 OD")

```

## Including even more Plots

Do some more side by side box plots, just for good measures
```{r box_plots}

#maximum concentration

boxplot(dataset_mod$Maximum_Concentration ~ dataset_mod$Cu, outline=FALSE, xlab = "Cu concentration", ylab = "Maximum Concentration", main = "Comparing Maximum Concentration via Cu")

boxplot(dataset_mod$Maximum_Concentration ~ dataset_mod$Mine, outline=FALSE, xlab = "Mine", ylab = "Maximum Concentration", main = "Comparing Maximum Concentration via Mine")

boxplot(dataset_mod$Maximum_Concentration ~ dataset_mod$Storage, outline=FALSE, xlab = "Storage", ylab = "Maximum Concentration", main = "Comparing Maximum Concentration via Storage")

boxplot(dataset_mod$Maximum_Concentration ~ dataset_mod$Storage, outline=FALSE, xlab = "Media", ylab = "Maximum Concentration", main = "Comparing Maximum Concentration via Media")



#mu max

boxplot(dataset_mod$mu_max ~ dataset_mod$Cu, outline=FALSE, xlab = "Cu concentration", ylab = "mu max", main = "Comparing Mu Max via Cu")

boxplot(dataset_mod$mu_max ~ dataset_mod$Mine, outline=FALSE, xlab = "Mine", ylab = "Mu Max", main = "Comparing Mu Max via Mine")

boxplot(dataset_mod$mu_max ~ dataset_mod$Storage, outline=FALSE, xlab = "Storage", ylab = "Mu Max", main = "Comparing Mu Max via Storage")

boxplot(dataset_mod$mu_max ~ dataset_mod$Media, outline=FALSE, xlab = "Media", ylab = "Mu Max", main = "Comparing Mu Max via Media")

# lag time

boxplot(as.integer(dataset_mod$lag_time) ~ dataset_mod$Cu, outline=FALSE, xlab = "Cu concentration", ylab = "Lag Time", main = "Comparing Lag Time via Cu")

boxplot(as.integer(dataset_mod$lag_time) ~ dataset_mod$Mine, outline=FALSE, xlab = "Mine", ylab = "Lag Time", main = "Comparing Lag Time via Mine")

boxplot(as.integer(dataset_mod$lag_time) ~ dataset_mod$Storage, outline=FALSE, xlab = "Storage", ylab = "Lag Time", main = "Comparing Lag Time via Storage")

boxplot(as.integer(dataset_mod$lag_time) ~ dataset_mod$Media, outline=FALSE, xlab = "Media", ylab = "Lag Time", main = "Comparing Lag Time via Media")
```


```{r hist}


hist(dataset_mod$Maximum_Concentration, main = "Histogram of Maximum Concentration", xlab = " Maximum Concentration (OD600)")

hist(as.numeric(dataset_mod$lag_time),, main = "Histogram of Lag Time", xlab = "Lag Time (h)")

hist(dataset_mod$mu_max, main = "Histogram of Mu Max",xlab = expression("Mu Max (" * h^{-1} * ")"),ylab = "Frequency")


hist(dataset_mod$mu_max^0.1, main = "Histogram of power-transformed Mu Max",xlab = "Mu Max^0.1",ylab = "Frequency")

```